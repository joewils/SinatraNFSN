<h2>Order Rows</h2>
<p>Showing <%= @records.count %> of <%= @total %> records (Page <%= @page %>)</p>

<table border="1" cellpadding="5">
  <tr>
    <th>Order ID</th>
    <th>Line #</th>
    <th>Product ID</th>
    <th>Quantity</th>
    <th>Unit Price</th>
    <th>Net Price</th>
  </tr>
  <% @records.each do |r| %>
  <tr>
    <td><%= r[:order_key] %></td>
    <td><%= r[:line_number] %></td>
    <td><%= r[:product_key] %></td>
    <td><%= r[:quantity] %></td>
    <td>$<%= sprintf('%.2f', r[:unit_price] || 0) %></td>
    <td>$<%= sprintf('%.2f', r[:net_price] || 0) %></td>
  </tr>
  <% end %>
</table>

<p>
  <% if @page > 1 %>
    <a href="/order_rows?page=<%= @page - 1 %>">&laquo; Prev</a>
  <% end %>
  <% if @page < @total_pages %>
    <a href="/order_rows?page=<%= @page + 1 %>">Next &raquo;</a>
  <% end %>
</p>
